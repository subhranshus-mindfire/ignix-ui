"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[885],{2051:(n,e,a)=>{a.r(e),a.d(e,{assets:()=>v,contentTitle:()=>j,default:()=>b,frontMatter:()=>x,metadata:()=>i,toc:()=>g});const i=JSON.parse('{"id":"layouts/masonry","title":"Masonry","description":"A Pinterest-style layout component for displaying items of varying heights in a responsive grid.","source":"@site/versioned_docs/version-1.0.2/layouts/masonry.mdx","sourceDirName":"layouts","slug":"/layouts/masonry","permalink":"/ignix-ui/docs/layouts/masonry","draft":false,"unlisted":false,"tags":[],"version":"1.0.2","sidebarPosition":7,"frontMatter":{"sidebar_position":7,"title":"Masonry","description":"A Pinterest-style layout component for displaying items of varying heights in a responsive grid."},"sidebar":"tutorialSidebar","previous":{"title":"LazyLoad","permalink":"/ignix-ui/docs/layouts/lazyload"},"next":{"title":"Pin","permalink":"/ignix-ui/docs/layouts/pin"}}');var s=a(4848),l=a(8453),t=a(5537),d=a(9329),r=a(6540),o=a(4655);const c={none:"0",small:"0.5rem",normal:"1rem",large:"2rem"},m=({children:n,columns:e=3,mobile:a=1,gap:i="normal",balanced:l=!0,animation:t="none",className:d=""})=>{const m=c[i]||i;let p=[];if(l){const a=new Array(e).fill(0);p=Array.from({length:e},(()=>[])),r.Children.forEach(n,(n=>{const e=a.indexOf(Math.min(...a));p[e].push(n),a[e]+=1}))}const h={initial:{opacity:0,y:"slide-up"===t?20:0,scale:"scale-in"===t?.95:1},animate:{opacity:1,y:0,scale:1}};return l?(0,s.jsx)("div",{className:`flex w-full ${d}`,style:{gap:m},children:p.map(((n,e)=>(0,s.jsx)("div",{className:"flex flex-col",style:{gap:m,flex:1},children:n.map(((n,e)=>"none"===t?(0,s.jsx)("div",{children:n},e):(0,s.jsx)(o.P.div,{initial:"initial",animate:"animate",variants:h,transition:{duration:.3,delay:.05*e},children:n},e)))},e)))}):(0,s.jsxs)("div",{className:`masonry ${d}`,style:{columnCount:a,columnGap:m},children:[(0,s.jsx)("style",{children:`\n          @media (min-width: 768px) {\n            .masonry {\n              column-count: ${e};\n              column-gap: ${m};\n            }\n          }\n        `}),r.Children.map(n,((n,e)=>"none"===t?(0,s.jsx)("div",{style:{breakInside:"avoid",marginBottom:m},children:n}):(0,s.jsx)(o.P.div,{initial:"initial",animate:"animate",variants:h,transition:{duration:.3,delay:.05*e},style:{breakInside:"avoid",marginBottom:m},children:n},e)))]})};var p=a(9465),h=a(8069);const u=()=>{const[n,e]=(0,r.useState)(3),[a,i]=(0,r.useState)(1),[l,o]=(0,r.useState)("normal"),[c]=(0,r.useState)(!0),[u,x]=(0,r.useState)("none"),j=["1","2","3","4"],v=`\n<Masonry \n  columns={${n}}\n  mobile={${a}}\n  gap="${l}"\n  balanced={${c}}\n  animation="${u}"\n>\n  {items.map((item, i) => (\n    <div key={i} className="bg-gray-200 rounded-lg shadow text-center">\n      Item {i + 1}\n    </div>\n  ))}\n</Masonry>\n`;return(0,s.jsxs)("div",{className:"space-y-6 mb-8",children:[(0,s.jsxs)("div",{className:"flex flex-wrap gap-4 justify-start sm:justify-end",children:[(0,s.jsx)("div",{className:"space-y-2",children:(0,s.jsx)(p.A,{variants:["none","small","normal","large"],selectedVariant:l,onSelectVariant:o,type:"Gap"})}),(0,s.jsx)("div",{className:"space-y-2",children:(0,s.jsx)(p.A,{variants:["none","fade-in","scale-in","slide-up"],selectedVariant:u,onSelectVariant:x,type:"Animation"})}),(0,s.jsx)("div",{className:"space-y-2",children:(0,s.jsx)(p.A,{variants:j,selectedVariant:String(a),onSelectVariant:n=>i(Number(n)),type:"Mobile Columns"})}),(0,s.jsx)("div",{className:"space-y-2",children:(0,s.jsx)(p.A,{variants:j,selectedVariant:String(n),onSelectVariant:n=>e(Number(n)),type:"Desktop Columns"})})]}),(0,s.jsxs)(t.A,{children:[(0,s.jsx)(d.A,{value:"preview",label:"Preview",children:(0,s.jsx)("div",{className:"border p-6 rounded-lg",children:(0,s.jsx)(m,{columns:n,mobile:a,gap:l,balanced:c,animation:u,children:["bg-red-600 p-3 sm:p-8 md:p-10","bg-red-600 p-2 sm:p-3 md:p-4","bg-red-600 p-4 sm:p-10 md:p-12","bg-red-600 p-6 sm:p-20 md:p-40","bg-red-600 p-4 sm:p-12 md:p-20","bg-red-600 p-2 sm:p-5 md:p-6"].map(((n,e)=>(0,s.jsxs)("div",{className:`${n} text-white rounded-lg shadow-md text-center`,children:["Item ",e+1]},`${u}-${e}`)))},`${u}-${n}-${a}-${l}-${c}`)})}),(0,s.jsx)(d.A,{value:"code",label:"Code",children:(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsx)(h.A,{language:"tsx",className:"text-sm",children:v})})})]})]})},x={sidebar_position:7,title:"Masonry",description:"A Pinterest-style layout component for displaying items of varying heights in a responsive grid."},j=void 0,v={},g=[{value:"Overview",id:"overview",level:2},{value:"Preview",id:"preview",level:2},{value:"Installation",id:"installation",level:2},{value:"Variants",id:"variants",level:2},{value:"Usage",id:"usage",level:2},{value:"Basic Example",id:"basic-example",level:3},{value:"Balanced Columns",id:"balanced-columns",level:3},{value:"With Animation",id:"with-animation",level:3},{value:"Props",id:"props",level:2}];function y(n){const e={code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,l.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsxs)(e.p,{children:["The ",(0,s.jsx)(e.strong,{children:"Masonry"})," component creates Pinterest-style layouts that optimize vertical space by arranging items of varying heights into responsive columns."]}),"\n",(0,s.jsx)(e.p,{children:"It supports responsive breakpoints, gaps, balanced column heights, and entrance animations."}),"\n",(0,s.jsx)(e.h2,{id:"preview",children:"Preview"}),"\n",(0,s.jsxs)(t.A,{defaultValue:"preview",children:[(0,s.jsx)(d.A,{value:"preview",label:"Preview",default:!0,children:(0,s.jsx)("div",{className:"p-4 border rounded-lg",children:(0,s.jsxs)(m,{columns:3,mobile:1,gap:"normal",balanced:!0,animation:"fade-in",children:[(0,s.jsx)("div",{className:"bg-red-600 text-white p-1 sm:p-3 md:p-4 rounded",children:"Item 1"}),(0,s.jsx)("div",{className:"bg-red-600 text-white p-4 sm:p-8 md:p-10 rounded",children:"Item 2 (taller)"}),(0,s.jsx)("div",{className:"bg-red-600 text-white p-2 sm:p-4 md:p-6 rounded",children:"Item 3"}),(0,s.jsx)("div",{className:"bg-red-600 text-white p-6 sm:p-12 md:p-20 rounded",children:"Item 4 (tallest)"})]})})}),(0,s.jsx)(d.A,{value:"code",label:"Code",children:(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-tsx",children:'import Masonry from \'./components/ui\';\n\nfunction MasonryDemo() {\n  return (\n    <div className="p-4 border rounded-lg">\n  <Masonry \n    columns={3}\n    mobile={1}\n    gap="normal"\n    balanced\n    animation="fade-in"\n  >\n  <div className="bg-red-600 text-white p-1 sm:p-3 md:p-4 rounded">Item 1</div>\n  <div className="bg-red-600 text-white p-4 sm:p-8 md:p-10 rounded">Item 2 (taller)</div>\n  <div className="bg-red-600 text-white p-2 sm:p-4 md:p-6 rounded">Item 3</div>\n  <div className="bg-red-600 text-white p-6 sm:p-12 md:p-20 rounded">Item 4 (tallest)</div>\n  </Masonry>\n</div>\n  );\n}\n'})})})]}),"\n",(0,s.jsx)(e.h2,{id:"installation",children:"Installation"}),"\n",(0,s.jsxs)(t.A,{children:[(0,s.jsx)(d.A,{value:"npm",label:"npm",default:!0,children:(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"npx @mindfiredigital/ignix-ui add masonry\n"})})}),(0,s.jsx)(d.A,{value:"yarn",label:"Yarn",children:(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"yarn @mindfiredigital/ignix-ui add masonry\n"})})}),(0,s.jsx)(d.A,{value:"pnpm",label:"pnpm",children:(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"pnpm @mindfiredigital/ignix-ui add masonry\n"})})}),(0,s.jsx)(d.A,{value:"manual",label:"manual",children:(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-tsx",children:'import React, { ReactNode, useEffect, useState } from "react";\nimport { motion } from "framer-motion";\n\ntype Gap = "none" | "small" | "normal" | "large" | string;\ntype Animation = "none" | "fade-in" | "scale-in" | "slide-up";\n\ninterface MasonryProps {\nchildren: ReactNode[];\ncolumns?: number; // desktop\nmobile?: number; // mobile\ngap?: Gap;\nbalanced?: boolean;\nanimation?: Animation;\nclassName?: string;\n}\n\nconst gapMap: Record<Exclude<Gap, string>, string> = {\nnone: "0",\nsmall: "0.5rem",\nnormal: "1rem",\nlarge: "2rem",\n};\n\nconst Masonry: React.FC<MasonryProps> = ({\nchildren,\ncolumns = 3,\nmobile = 1,\ngap = "normal",\nbalanced = true,\nanimation = "none",\nclassName = "",\n}) => {\nconst computedGap = gapMap[gap as keyof typeof gapMap] || gap;\nconst [columnItems, setColumnItems] = useState<ReactNode[][]>([]);\n\nuseEffect(() => {\nif (!balanced) return;\n\nconst colHeights = new Array(columns).fill(0);\nconst colItems: ReactNode[][] = Array.from({ length: columns }, () => []);\n\nReact.Children.forEach(children, (child) => {\n  const shortest = colHeights.indexOf(Math.min(...colHeights));\n  colItems[shortest].push(child);\n  colHeights[shortest] += 1;\n});\n\nsetColumnItems(colItems);\n}, [children, columns, balanced]);\n\nconst variants = {\ninitial: { opacity: 0, y: animation === "slide-up" ? 20 : 0, scale: animation === "scale-in" ? 0.95 : 1 },\nanimate: { opacity: 1, y: 0, scale: 1 },\n};\n\nif (balanced) {\nreturn (\n  <div\n    className={`flex w-full ${className}`}\n    style={{ gap: computedGap }}\n  >\n    {columnItems.map((col, i) => (\n      <div key={i} className="flex flex-col" style={{ gap: computedGap, flex: 1 }}>\n        {col.map((child, j) => (\n          animation === "none" ? (\n            <div key={j}>{child}</div>\n          ) : (\n            <motion.div\n              key={j}\n              initial="initial"\n              animate="animate"\n              variants={variants}\n              transition={{ duration: 0.3, delay: j * 0.05 }}\n            >\n              {child}\n            </motion.div>\n          )\n        ))}\n      </div>\n    ))}\n  </div>\n);\n}\n\nreturn (\n<div\n  className={`masonry ${className}`}\n  style={{\n    columnCount: mobile,\n    columnGap: computedGap,\n  }}\n>\n  <style>\n    {`\n      @media (min-width: 768px) {\n        .masonry {\n          column-count: ${columns};\n          column-gap: ${computedGap};\n        }\n      }\n    `}\n  </style>\n\n  {React.Children.map(children, (child, idx) =>\n    animation === "none" ? (\n      <div style={{ breakInside: "avoid", marginBottom: computedGap }}>\n        {child}\n      </div>\n    ) : (\n      <motion.div\n        key={idx}\n        initial="initial"\n        animate="animate"\n        variants={variants}\n        transition={{ duration: 0.3, delay: idx * 0.05 }}\n        style={{ breakInside: "avoid", marginBottom: computedGap }}\n      >\n        {child}\n      </motion.div>\n    )\n  )}\n</div>\n);\n};\n\nexport default Masonry;\n\n'})})})]}),"\n",(0,s.jsx)(e.h2,{id:"variants",children:"Variants"}),"\n","\n",(0,s.jsx)(u,{}),"\n",(0,s.jsx)(e.h2,{id:"usage",children:"Usage"}),"\n",(0,s.jsx)(e.h3,{id:"basic-example",children:"Basic Example"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-tsx",children:'function Gallery() {\n  return (\n    <Masonry columns={3} mobile={1} gap="normal">\n      {images.map((src, i) => (\n        <img key={i} src={src} className="rounded shadow" />\n      ))}\n    </Masonry>\n  );\n}\n'})}),"\n",(0,s.jsx)(e.h3,{id:"balanced-columns",children:"Balanced Columns"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-tsx",children:'<Masonry columns={4} mobile={2} gap="small" balanced>\n  {items.map((item, i) => (\n    <Card key={i} {...item} />\n  ))}\n</Masonry>\n'})}),"\n",(0,s.jsx)(e.h3,{id:"with-animation",children:"With Animation"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-tsx",children:'<Masonry columns={3} animation="scale-in">\n  {products.map((p) => (\n    <ProductCard key={p.id} product={p} />\n  ))}\n</Masonry>\n'})}),"\n",(0,s.jsx)(e.h2,{id:"props",children:"Props"}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"Prop"}),(0,s.jsx)(e.th,{children:"Type"}),(0,s.jsx)(e.th,{children:"Default"}),(0,s.jsx)(e.th,{children:"Description"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"columns"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"number"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"3"})}),(0,s.jsx)(e.td,{children:"Number of columns at desktop."})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"mobile"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"number"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"1"})}),(0,s.jsx)(e.td,{children:"Number of columns at mobile breakpoint."})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"gap"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:'"none" | "small" | "normal" | "large" | string'})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:'"normal"'})}),(0,s.jsx)(e.td,{children:"Gap between items."})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"balanced"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"boolean"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"true"})}),(0,s.jsxs)(e.td,{children:["If ",(0,s.jsx)(e.code,{children:"true"}),", items are distributed evenly to balance column heights."]})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"animation"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:'"none" | "fade-in" | "scale-in" | "slide-up"'})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:'"none"'})}),(0,s.jsx)(e.td,{children:"Defines entrance animation for items."})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"className"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"string"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:'""'})}),(0,s.jsx)(e.td,{children:"Custom class names for wrapper."})]})]})]})]})}function b(n={}){const{wrapper:e}={...(0,l.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(y,{...n})}):y(n)}}}]);